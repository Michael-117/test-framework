version: '3.8'

services:
  selenium-tests:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: selenium-test-runner
    environment:
      - TEST_PATH=${TEST_PATH:-/tests}
      - BASE_URL=${BASE_URL:-}
    volumes:
      # Mount your local tests directory
      - ${TEST_PATH:-./tests}:/tests:ro
      # Mount your local application (if needed for network access)
      # Uncomment and adjust if your app runs in another container
      # - ./app:/app:ro
    network_mode: "host"
    # Use host network mode to access localhost applications
    # Alternative: use bridge network and set extra_hosts if needed
    # extra_hosts:
    #   - "host.docker.internal:host-gateway"
    stdin_open: true
    tty: true
